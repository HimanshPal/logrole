{{ define "content" }}
<div class="row row-search">
  <form class="form-inline" method="get" action="{{ .Path }}">
    <div class="form-search form-calls-search col-md-10">
      <div class="form-group">
        <label for="status">Status</label>
        <select name="status" class="form-control">
          <option>Choose a status..</option>
          {{- range .Statuses }}
          <option {{ if eq ($.Query.Get "status") . }}selected="selected" {{ end }}value="{{ . }}">{{ .Friendly }}</option>
          {{- end }}
        </select>
      </div>
      <div class="form-group">
        <label for="friendly-name">Friendly Name</label>
        <input type="text" class="form-control" name="friendly-name" id="friendly-name" placeholder="(Exact Match)" value="{{ (.Query.Get "friendly-name") }}">
      </div>
      <div class="form-group">
        <label for="start-before">At or before</label>
        <input type="date" class="form-control" name="start-before" id="start-before" min="{{ min }}" max="{{ max }}" placeholder="Started at or before" value="{{ (.Query.Get "start-before") }}">
      </div>
      <div class="form-group">
        <label for="start-after">On or after</label>
        <input type="date" class="form-control" name="start-after" id="start-after" min="{{ min }}" max="{{ max }}" placeholder="Started at or after" value="{{ (.Query.Get "start-after") }}">
      </div>
    </div>
    <div class="col-md-2">
      <input type="submit" value="Search" class="btn-search btn btn-default btn-info" />
    </div>
  </form>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Date</th>
      {{- if .Page.ShowHeader "FriendlyName" }}
      <th>Friendly Name</th>
      {{- end }}
      {{- if .Page.ShowHeader "Status" }}
      <th>Status</th>
      {{- end }}
      {{- if .Page.ShowHeader "Region" }}
      <th>Region</th>
      {{- end }}
    </tr>
  </thead>
  <tbody>
    {{- range .Page.Conferences }}
      {{- if .CanViewProperty "Sid" }}
      <tr class="conference">
        <td>
          <a href="/conferences/{{ .Sid }}" title="View more details">
            {{- if .CanViewProperty "DateCreated" }}
              {{ friendly_date (.DateCreated.Time.In $.Loc) }}
            {{- else }}
            View more details
            {{- end }}
          </a>
        </td>
        {{- if .CanViewProperty "FriendlyName" }}
        <td>{{ .FriendlyName }}</td>
        {{- end }}
        {{- if .CanViewProperty "Status" }}
        <td>{{ .Status.Friendly }}</td>
        {{- end }}
        {{- if .CanViewProperty "Region" }}
        <td>{{ .Region }}</td>
        {{- end }}
      </tr>
      {{- end }}
    {{- end }}
  </tbody>
</table>
{{- end }}
